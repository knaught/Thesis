<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Robot Mapper: include/RmPioneerController.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a></div>
<h1>RmPioneerController.h</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">// RmPioneerController.h</span>
00002 
00003 <span class="preprocessor">#ifndef RM_PIONEER_CONTROLLER_H</span>
00004 <span class="preprocessor"></span><span class="preprocessor">#define RM_PIONEER_CONTROLLER_H</span>
00005 <span class="preprocessor"></span>
00006 <span class="preprocessor">#include "Aria.h"</span>
00007 <span class="preprocessor">#include "RmActionHook.h"</span>
00008 <span class="preprocessor">#include "RmUtility.h"</span>
00009 
<a name="l00035"></a><a class="code" href="class_rm_pioneer_controller.html">00035</a> <span class="keyword">class </span><a class="code" href="class_rm_pioneer_controller.html">RmPioneerController</a>
00036 {
00037 <span class="keyword">public</span>:
00038 
<a name="l00040"></a><a class="code" href="class_rm_pioneer_controller.html#w0">00040</a>         <span class="keyword">enum</span> ConnectionStatus { FAILED, SUCCESS, SERIAL, TCP };
00041 
00042 
<a name="l00044"></a><a class="code" href="class_rm_pioneer_controller.html#w1">00044</a>         <span class="keyword">enum</span> DriveMode { WANDER, KEYDRIVE };
00045 
00046 
00061         <a class="code" href="class_rm_pioneer_controller.html">RmPioneerController</a>( <span class="keywordtype">bool</span> wander = <span class="keyword">false</span>, <span class="keywordtype">bool</span> asynch = <span class="keyword">false</span>, 
00062                 std::vector&lt;RmActionHandler*&gt; *actionHandlers = NULL, <span class="keywordtype">int</span> priority = 50 );
00063 
00064 
00068         ~<a class="code" href="class_rm_pioneer_controller.html">RmPioneerController</a>();
00069 
00070 
<a name="l00074"></a><a class="code" href="class_rm_pioneer_controller.html#a3">00074</a>         <span class="keywordtype">bool</span> isRunning() { <span class="keywordflow">return</span> m_robot.isConnected(); }
00075 
00076 
00082         <a class="code" href="struct_rm_utility_1_1_pose.html">RmUtility::Pose</a> pose();
00083 
00084 
00089         <span class="keyword">static</span> <a class="code" href="struct_rm_utility_1_1_pose.html">RmUtility::Pose</a> pose( ArPose&amp; arPose );
00090 
00091 
00096         <span class="keywordtype">void</span> setDriveMode( DriveMode wander );
00097 
00098         
<a name="l00103"></a><a class="code" href="class_rm_pioneer_controller.html#a1">00103</a>         ArRobot* arRobot() { <span class="keywordflow">return</span> &amp;m_robot; }
00104 
00105 
<a name="l00109"></a><a class="code" href="class_rm_pioneer_controller.html#a0">00109</a>         ArActionKeydrive* arKeydriveAction() { <span class="keywordflow">return</span> &amp;m_keydriveAction; }
00110 
00111         
<a name="l00115"></a><a class="code" href="class_rm_pioneer_controller.html#a2">00115</a>         ConnectionStatus getConnectionStatus()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_connectionStatus; }
00116 
00117 
00122         <span class="keyword">static</span> <a class="code" href="struct_rm_utility_1_1_mapped_sonar_reading.html">RmUtility::MappedSonarReading</a> rangeReading( <span class="keyword">const</span> <a class="code" href="struct_rm_utility_1_1_sonar_reading.html">RmUtility::SonarReading</a>&amp; reading );
00123 
00124 
00126         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> DistToSonar[];
00127 
00129         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> ThetaToSonar[];
00130 
00132         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> SonarTheta[];
00133 
00135         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> SonarRange;
00136 
00138         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> NumSonars;
00139 
00140 <span class="keyword">protected</span>:
00141 
00148         ConnectionStatus initRobot( <span class="keywordtype">bool</span> wander, 
00149                 std::vector&lt;RmActionHandler*&gt; *actionHandlers, <span class="keywordtype">int</span> priority );
00150 
00151         
00155         <span class="keyword">static</span> <span class="keywordtype">double</span> polarTheta( <span class="keywordtype">double</span> arTheta );
00156 
00157 <span class="keyword">private</span>:
00158 
00159         ConnectionStatus m_connectionStatus; <span class="comment">// the status of the robot connection</span>
00160         <span class="keywordtype">bool</span> m_wander; <span class="comment">// true enables autonomous wander</span>
00161 
00162         <span class="comment">// Standard Aria robot objects</span>
00163         ArRobot m_robot; <span class="comment">// the robot through which pose and sonar data will come</span>
00164 
00165         <span class="comment">// Wander mode objects</span>
00166         ArActionStallRecover m_recover;
00167         ArActionBumpers m_bumpers;
00168         ArActionAvoidFront m_avoidFront;
00169         ArActionAvoidSide m_avoidSide;
00170         ArActionConstantVelocity m_constantVelocity; <span class="comment">//( "Constant Velocity", 400 );</span>
00171 
00172         ArActionLimiterForwards m_forwardLimiter;
00173 
00174         <span class="comment">// Keydrive mode objects</span>
00175         ArActionKeydrive m_keydriveAction; <span class="comment">// the action that enables cursor control of the robot</span>
00176 
00177 <span class="comment">//      ArSerialConnection m_serConn; // used by initRobot() to establish serial connection</span>
00178 <span class="comment">//      ArTcpConnection m_tcpConn; // used by initRobot() to establish TCP (simulator) connection</span>
00179         ArKeyHandler m_keyHandler; <span class="comment">// the handler that listens for the Escape key</span>
00180         ArSonarDevice m_sonar; <span class="comment">// the range device associated with the robot</span>
00181         ArSimpleConnector *m_connector;
00182 
00183         <a class="code" href="class_rm_action_hook.html">RmActionHook</a> *m_actionHook; <span class="comment">// the generic event hook that calls back to handleAction()</span>
00184                 <span class="comment">// NOTE!!! RmActionHook must appear after ArRobot m_robot declaration</span>
00185                 <span class="comment">// Otherwise, program will crash upon exit</span>
00186 };
00187 
00188 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Apr 3 16:46:53 2005 for Robot Mapper by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
