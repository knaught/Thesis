<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Robot Mapper: RmBayesSonarModel Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>RmBayesSonarModel Class Reference</h1>Provides Bayesian probabilistic model for interpreting sonar readings.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_rm_bayes_sonar_model_8h-source.html">RmBayesSonarModel.h</a>&gt;</code>
<p>
<a href="class_rm_bayes_sonar_model-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a> { <a class="el" href="class_rm_bayes_sonar_model.html#w1w3">RegionII</a>, 
<a class="el" href="class_rm_bayes_sonar_model.html#w1w2">RegionI</a>, 
<a class="el" href="class_rm_bayes_sonar_model.html#w1w4">RegionIII</a>, 
<a class="el" href="class_rm_bayes_sonar_model.html#w1w0">OutOfRange</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Identifies the region within which a particular grid cell falls, in relation to the sonar range reading.  <a href="#w1">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#a0">prOccupiedGivenSn</a> (float priorPrOccGivSn, <a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a> region, double r, double alpha=0.0) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the probability that a cell is occupied given a particular sonar range reading.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#a1">RmBayesSonarModel</a> (<a class="el" href="struct_rm_settings.html">RmSettings</a> *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the calculated configurable parameters that are used in the probability calculations.  <a href="#a1"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="o0" doxytag="RmBayesSonarModel::R"></a>
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#o0">R</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A Murphy parameter defining the <em>scaled</em> maximum range of the sonar. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#b0">prSnGivenEmpty</a> (double r, double alpha, <a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a> region) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the probability that the sensor would return a range reading given the corresponding location was actually empty.  <a href="#b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_rm_bayes_sonar_model.html#b1">prSnGivenOccupied</a> (double r, double alpha, <a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a> region) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the probability that the sensor would return a range reading given the corresponding location was actually occupied.  <a href="#b1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides Bayesian probabilistic model for interpreting sonar readings. 
<p>
The model is based on the formulas presented in <b>Murphy, Robin R. <em>An Introduction to AI Robotics</em>. MIT Press, 2000.</b> The specific equations used from Murphy are 11.1, 11.4, and 11.6: <p>
<table align="center" cellpadding="5" border="0" cellspacing="3">
<tr>
<td>(11.1) </td><td>P(s|Occupied)</td><td>= </td><td>[ ((R - r) / R) + ((<em>beta</em> - <em>alpha</em>) / <em>beta</em>) ] / 2 * Max<sub>occupied</sub>  </td></tr>
<tr>
<td></td><td>P(s|Empty)</td><td>= </td><td>1.0 - P(s|Occupied)  </td></tr>
<tr>
<td>(11.2) </td><td>P(s|Occupied)</td><td>= </td><td>1.0 - P(s|Empty)  </td></tr>
<tr>
<td></td><td>P(s|Empty)</td><td>= </td><td>( ((R - r) / R) + ((<em>beta</em> - <em>alpha</em>) / <em>beta</em>) ) / 2 * Max<sub>empty</sub>  </td></tr>
<tr>
<td>(11.6) </td><td>P(Occupied|s<sub>n</sub>)</td><td>= </td><td>( P(s<sub>n</sub>|Occupied) P(Occupied|s<sub>n-1</sub>) ) / ( P(s<sub>n</sub>|Occupied) P(Occupied|s<sub>n-1</sub>) + P(s<sub>n</sub>|Empty) P(Empty|s<sub>n-1</sub>) )  </td></tr>
</table>
<p>
where <ul>
<li>
s stands for the sonar range reading </li>
<li>
R is the maximum range of the sonar </li>
<li>
r is the range reading of the sonar </li>
<li>
<em>beta</em> is the half-width of the sonar cone </li>
<li>
<em>alpha</em> is the angular distance off the sonar acoustic axis that a cell of interest resides </li>
<li>
Max<sub>occupied</sub> is a cap on the maximum probability that a cell is occupied, defined by Murphy to be 0.98, and defined within <a class="el" href="struct_rm_settings.html#o12">RmSettings::MaxOccupied</a> </li>
<li>
Max<sub>empty</sub> is a cap on the maximum probability that a cell is occupied within region II, where all cells are implicitly empty; this is not a Murphy-defined parameter, but one that is deemed necessary to prevent probabilities in those cells from showing any degree of occupied; defined in <a class="el" href="struct_rm_settings.html#o11">RmSettings::MaxEmpty</a> </li>
</ul>
<p>
Equation (11.1) captures the idea that the closer the grid element is to the acoustic axis, the higher the belief. Likewise, the nearer the grid element is to the origin of the sonar beam, the higher the belief (the (R-r) / r term). The Max<sub>occupied</sub> term expresses the assumption that a reading of occupied is never fully believable. A Max<sub>occupied</sub> of 0.98 means that a grid element can never have a probability of being occupied greater than 0.98. <p>
Equation (11.6) generates the probability of interest, that the area at a certain cell is really occupied given a particular sensor reading. <p>
The probability values stored in the grid cells are those calculated by (11.6), which itself utilizes (11.1) and (11.2), depending upon whether the cell of interest is in Region I or II, respectively. These formulas are implemented by <a class="el" href="class_rm_bayes_sonar_model.html#a0">prOccupiedGivenSn()</a>, <a class="el" href="class_rm_bayes_sonar_model.html#b1">prSnGivenOccupied()</a>, and <a class="el" href="class_rm_bayes_sonar_model.html#b0">prSnGivenEmpty()</a>.<p>
<h3>Usage</h3>
<p>
Instantiate the model and use <a class="el" href="class_rm_bayes_sonar_model.html#a0">prOccupiedGivenSn()</a> to update values in an occupancy grid, as in: <pre>
 1    RmBayesSonarModel sonarModel;
 2    double pr = grid[x][y] = 
 3         sonarModel.prOccupiedGivenSn( grid[x][y], <a class="el" href="class_rm_bayes_sonar_model.html#w1w2">RmBayesSonarModel::RegionI</a>, distance );
 </pre> where <code>grid</code>, <code>x</code>, <code>y</code>, and <code>distance</code> are previously defined.<p>
<h3>Dependencies</h3>
<p>
This class utilizes the probability related settings <a class="el" href="struct_rm_settings.html#o0">RmSettings::AlphaFactor</a>, <a class="el" href="struct_rm_settings.html#o1">RmSettings::Beta</a>, <a class="el" href="struct_rm_settings.html#o11">RmSettings::MaxEmpty</a>, and <a class="el" href="struct_rm_settings.html#o12">RmSettings::MaxOccupied</a>. 
<p>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00089">89</a> of file <a class="el" href="_rm_bayes_sonar_model_8h-source.html">RmBayesSonarModel.h</a>.<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="w1" doxytag="RmBayesSonarModel::Region"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="class_rm_bayes_sonar_model.html#w1">RmBayesSonarModel::Region</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Identifies the region within which a particular grid cell falls, in relation to the sonar range reading. 
<p>
<dl compact><dt><b>Enumeration values: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="w1w3" doxytag="RegionII"></a>RegionII</em>&nbsp;</td><td>
Identifies the cone region that lies between the sonar device and Region I. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w1w2" doxytag="RegionI"></a>RegionI</em>&nbsp;</td><td>
Identifies the region that extends the cone of Region II and surrounds the range reading by <a class="el" href="struct_rm_settings.html#o17">RmSettings::RegionIHalfwidth</a> on either side. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w1w4" doxytag="RegionIII"></a>RegionIII</em>&nbsp;</td><td>
Identifies the region that extends the cone of Region I, including those cells that lie beyond Region I but remain within range of the sonar device. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="w1w0" doxytag="OutOfRange"></a>OutOfRange</em>&nbsp;</td><td>
Identifies those cells that are out of range of the sonar device. </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00097">97</a> of file <a class="el" href="_rm_bayes_sonar_model_8h-source.html">RmBayesSonarModel.h</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a1" doxytag="RmBayesSonarModel::RmBayesSonarModel"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">RmBayesSonarModel::RmBayesSonarModel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_rm_settings.html">RmSettings</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>s</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initializes the calculated configurable parameters that are used in the probability calculations. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>defines various parameters used in calculating probabilities (see class description)</td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00119">119</a> of file <a class="el" href="_rm_bayes_sonar_model_8h-source.html">RmBayesSonarModel.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a0" doxytag="RmBayesSonarModel::prOccupiedGivenSn"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">float RmBayesSonarModel::prOccupiedGivenSn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname" nowrap> <em>priorPrOccGivSn</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>alpha</em> = <code>0.0</code></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the probability that a cell is occupied given a particular sonar range reading. 
<p>
Calculated using equation (11.6) detailed in the class description. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>priorPrOccGivSn</em>&nbsp;</td><td>the prior probability that a cell is occupied given the previous sonar reading; this is the value currently stored in the cell of interest </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>the sonar model region within which the cell falls </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>the <em>scaled</em> distance from the sonar origin to the cell (not sensed object) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>alpha</em>&nbsp;</td><td>the angle to the cell object relative to the sonar's acoustic axis </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>an</em>&nbsp;</td><td><a class="el" href="struct_rm_exceptions_1_1_invalid_parameter_exception.html">RmExceptions::InvalidParameterException</a> on receiving an invalid region specification, a range reading less than 0 or greater than <a class="el" href="class_rm_bayes_sonar_model.html#o0">R</a>, or an alpha less than 0 or greater than <a class="el" href="struct_rm_settings.html#o1">RmSettings::Beta</a></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00030">30</a> of file <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html">RmBayesSonarModel.cpp</a>.
<p>
References <a class="el" href="_rm_settings_8h-source.html#l00066">RmSettings::Beta</a>, <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00071">prSnGivenOccupied()</a>, <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00139">R</a>, <a class="el" href="class_rm_bayes_sonar_model.html#w1w2">RegionI</a>, and <a class="el" href="class_rm_bayes_sonar_model.html#w1w3">RegionII</a>.
<p>
Referenced by <a class="el" href="_rm_global_map_8cpp-source.html#l00465">RmGlobalMap::localizedPose()</a>, <a class="el" href="_rm_bayes_certainty_grid_8cpp-source.html#l00148">RmBayesCertaintyGrid::updateCell()</a>, and <a class="el" href="_rm_bayes_certainty_grid_8cpp-source.html#l00229">RmBayesCertaintyGrid::updateRegion()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b0" doxytag="RmBayesSonarModel::prSnGivenEmpty"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">float RmBayesSonarModel::prSnGivenEmpty           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>region</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the probability that the sensor would return a range reading given the corresponding location was actually empty. 
<p>
In other words, if <code>r</code> were the range reading and we're looking at distance <code>alpha</code> off the acoustic axis, what is the probability that the space at that location really is empty. The closer the reading is to the sonar device and its acoustic axis, i.e., the smaller the <code>r</code> and <code>alpha</code>, the greater the probability of vacancy. Note that this is calculated without knowledge of specific cell coordinates, as the only values considered in calculating the probability are the cell's nearness to the sonar (represented by <code>r</code>) and its distance off the acoustic axis (represented by <code>alpha</code>). For Region I, P(s|Empty) of equation (11.1) is used; for Region II, P(s|Empty) of equation (11.2) is used. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>the distance from the sonar origin to the cell of interest in the scale of the grid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>alpha</em>&nbsp;</td><td>the angle to the cell of interest relative to the sonar acoustic axis </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>the Region within which the probability should be calculated </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>an</em>&nbsp;</td><td><a class="el" href="struct_rm_exceptions_1_1_invalid_parameter_exception.html">RmExceptions::InvalidParameterException</a> on receiving an invalid region specification, a range reading less than 0 or greater than <a class="el" href="class_rm_bayes_sonar_model.html#o0">R</a>, or an alpha less than 0 or greater than <a class="el" href="struct_rm_settings.html#o1">RmSettings::Beta</a></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00111">111</a> of file <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html">RmBayesSonarModel.cpp</a>.
<p>
References <a class="el" href="_rm_settings_8h-source.html#l00072">RmSettings::AlphaFactor</a>, <a class="el" href="_rm_settings_8h-source.html#l00066">RmSettings::Beta</a>, <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00071">prSnGivenOccupied()</a>, <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00139">R</a>, <a class="el" href="class_rm_bayes_sonar_model.html#w1w2">RegionI</a>, and <a class="el" href="class_rm_bayes_sonar_model.html#w1w3">RegionII</a>.
<p>
Referenced by <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00071">prSnGivenOccupied()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="b1" doxytag="RmBayesSonarModel::prSnGivenOccupied"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">float RmBayesSonarModel::prSnGivenOccupied           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname" nowrap> <em>r</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double&nbsp;</td>
          <td class="mdname" nowrap> <em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="class_rm_bayes_sonar_model.html#w1">Region</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>region</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const<code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the probability that the sensor would return a range reading given the corresponding location was actually occupied. 
<p>
In other words, if <code>r</code> were the range reading and we're looking at distance <code>alpha</code> off the acoustic axis, what is the probability that there really is an object at that location. The closer the reading is to the sonar device and its acoustic axis (i.e., the smaller the <code>r</code> and <code>alpha</code>), the greater the probability of occupancy. Note that this is calculated without knowledge of specific cell coordinates, as the only values considered in calculating the probability are the cell's nearness to the sonar (represented by <code>r</code>) and its distance off the acoustic axis (represented by <code>alpha</code>). For Region I, P(s|Occupied) of equation (11.1) is used; for Region II, P(s|Occupied) of equation (11.2) is used. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>the distance from the sonar origin to the cell of interest in the scale of the grid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>alpha</em>&nbsp;</td><td>the angle to the cell of interest relative to the sonar acoustic axis </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>the Region within which the probability should be calculated </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>an</em>&nbsp;</td><td><a class="el" href="struct_rm_exceptions_1_1_invalid_parameter_exception.html">RmExceptions::InvalidParameterException</a> on receiving an invalid region specification, a range reading less than 0 or greater than <a class="el" href="class_rm_bayes_sonar_model.html#o0">R</a>, or an alpha less than 0 or greater than <a class="el" href="struct_rm_settings.html#o1">RmSettings::Beta</a></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00071">71</a> of file <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html">RmBayesSonarModel.cpp</a>.
<p>
References <a class="el" href="_rm_settings_8h-source.html#l00072">RmSettings::AlphaFactor</a>, <a class="el" href="_rm_settings_8h-source.html#l00066">RmSettings::Beta</a>, <a class="el" href="_rm_settings_8h-source.html#l00084">RmSettings::MaxEmpty</a>, <a class="el" href="_rm_settings_8h-source.html#l00077">RmSettings::MaxOccupied</a>, <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00111">prSnGivenEmpty()</a>, <a class="el" href="_rm_bayes_sonar_model_8h-source.html#l00139">R</a>, <a class="el" href="class_rm_bayes_sonar_model.html#w1w2">RegionI</a>, and <a class="el" href="class_rm_bayes_sonar_model.html#w1w3">RegionII</a>.
<p>
Referenced by <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00030">prOccupiedGivenSn()</a>, and <a class="el" href="_rm_bayes_sonar_model_8cpp-source.html#l00111">prSnGivenEmpty()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_rm_bayes_sonar_model_8h-source.html">RmBayesSonarModel.h</a><li>src/<a class="el" href="_rm_bayes_sonar_model_8cpp-source.html">RmBayesSonarModel.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Apr 3 16:46:54 2005 for Robot Mapper by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
